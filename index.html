<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>Solicitud de Dise√±o de Logo - Pixcro</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #bf40bf;
            --secondary-glow: #e066e0;
            --background-color: #000;
            --card-background: #16181c;
            --text-color: #fff;
            --input-background: #2f3336;
            --input-text-color: #fff;
            --border-radius: 12px;
            --shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Montserrat', sans-serif;
            background-color: var(--background-color);
            color: var(--text-color);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            padding: 1rem;
            line-height: 1.5;
            font-size: 16px;
            overflow-x: hidden;
        }

        .container {
            background-color: var(--card-background);
            padding: 2rem;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            max-width: 700px;
            width: 100%;
            margin: 1rem auto;
        }

        h1 {
            text-align: center;
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 2rem;
            color: var(--primary-color);
            text-shadow: 0 0 10px var(--primary-color);
        }

        .form-intro {
            background: var(--input-background);
            padding: 1.5rem;
            border-radius: var(--border-radius);
            margin-bottom: 2rem;
            font-size: 1rem;
            position: relative;
            overflow: hidden;
        }

        .form-intro::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(191, 64, 191, 0.3) 0%, rgba(191, 64, 191, 0) 70%);
            animation: ledGlow 6s ease-in-out infinite;
            z-index: -1;
        }

        @keyframes ledGlow {
            0% { transform: translate(0, 0) scale(1); opacity: 0.8; }
            50% { transform: translate(25%, 25%) scale(1.2); opacity: 0.4; }
            100% { transform: translate(0, 0) scale(1); opacity: 0.8; }
        }

        .form-intro p { margin-bottom: 0.75rem; }
        .form-intro ul { padding-left: 1.5rem; margin: 0.75rem 0; }

        .section {
            position: relative;
            margin-bottom: 2rem;
            padding: 1.5rem;
            border-radius: var(--border-radius);
            background: var(--card-background);
            border: 1px solid transparent;
            transition: box-shadow 0.5s ease, opacity 0.6s ease-out, transform 0.6s ease-out;
        }

        .section.visible {
            box-shadow: 0 0 15px rgba(191, 64, 191, 0.3), 0 0 25px rgba(224, 102, 224, 0.2);
            border: 1px solid rgba(191, 64, 191, 0.2);
            animation: borderGlow 4s ease-in-out infinite;
            opacity: 1;
            transform: translateY(0);
        }

        .section:not(.visible) {
            opacity: 0;
            transform: translateY(50px);
        }

        @keyframes borderGlow {
            0% { box-shadow: 0 0 15px rgba(191, 64, 191, 0.3), 0 0 25px rgba(224, 102, 224, 0.2); }
            50% { box-shadow: 0 0 20px rgba(191, 64, 191, 0.4), 0 0 30px rgba(224, 102, 224, 0.3); }
            100% { box-shadow: 0 0 15px rgba(191, 64, 191, 0.3), 0 0 25px rgba(224, 102, 224, 0.2); }
        }

        .section-title {
            color: var(--primary-color);
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 1.25rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid var(--primary-color);
            text-shadow: 0 0 6px var(--primary-color);
        }

        .form-group { margin-bottom: 1.75rem; position: relative; }
        label { display: block; margin-bottom: 0.5rem; font-weight: 500; font-size: 1rem; }
        .example { color: #b0b0b0; font-size: 0.875rem; margin-top: 0.25rem; }

        input, select, textarea {
            width: 100%;
            padding: 0.875rem;
            border: 1px solid var(--input-background);
            border-radius: var(--border-radius);
            background-color: var(--input-background);
            color: var(--input-text-color);
            font-size: 1rem;
            font-family: 'Montserrat', sans-serif;
            transition: var(--transition);
            line-height: 1.4;
            box-shadow: inset 0 0 5px rgba(191, 64, 191, 0.1);
        }

        textarea { min-height: 120px; resize: vertical; }

        select {
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='%23fff' viewBox='0 0 16 16'%3E%3Cpath d='M7.247 11.14 2.451 6.344C1.875 5.768 2.32 4.8 3.104 4.8h9.792c.784 0 1.229.968.653 1.544L8.753 11.14a.5.5 0 0 1-.706 0z'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 0.875rem center;
            padding-right: 2.5rem;
        }

        input:focus, select:focus, textarea:focus {
            border-color: var(--primary-color);
            outline: none;
            box-shadow: 0 0 0 3px rgba(191, 64, 191, 0.3), inset 0 0 8px rgba(191, 64, 191, 0.2);
        }

        .checkmark {
            position: absolute;
            width: 0.6rem;
            height: 0.6rem;
            background-color: var(--primary-color);
            border-radius: 50%;
            right: 1rem;
            top: 2.5rem;
            display: none;
            animation: popIn 0.3s ease;
            box-shadow: 0 0 8px var(--primary-color), 0 0 12px rgba(191, 64, 191, 0.6);
        }

        @keyframes popIn {
            from { transform: scale(0); }
            to { transform: scale(1); }
        }

        .checkbox-container { margin: 0.75rem 0; }

        .checkbox-option {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            margin: 0.75rem 0;
            flex-wrap: wrap;
        }

        input[type="checkbox"], input[type="radio"] {
            accent-color: var(--primary-color);
            width: 1.25rem;
            height: 1.25rem;
            min-width: 1.25rem;
            margin: 0;
        }

        .checkbox-option label {
            margin: 0;
            font-weight: 400;
            font-size: 1rem;
            line-height: 1.25rem;
        }

        .total-container {
            background-color: var(--input-background);
            padding: 1.5rem;
            border-radius: var(--border-radius);
            margin: 2rem 0;
            position: relative;
            overflow: hidden;
            font-size: 1rem;
        }

        .total-container::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(191, 64, 191, 0.2) 0%, rgba(191, 64, 191, 0) 70%);
            animation: ledGlow 5s ease-in-out infinite;
            z-index: -1;
        }

        .total-breakdown {
            text-align: left;
            margin-bottom: 1rem;
        }

        .total-breakdown div {
            display: flex;
            justify-content: space-between;
            padding: 0.25rem 0;
        }

        .total-breakdown div:hover {
            background-color: rgba(191, 64, 191, 0.05);
            transition: background-color 0.2s ease;
        }

        .total-breakdown .label {
            font-weight: 500;
            color: #fff;
        }

        .total-breakdown .value {
            font-weight: 700;
            color: var(--primary-color);
            text-shadow: 0 0 8px var(--primary-color);
        }

        .total-breakdown .total {
            border-top: 2px solid var(--primary-color);
            background-color: rgba(191, 64, 191, 0.1);
            padding: 0.5rem 0;
            margin-top: 0.75rem;
            font-size: 1.25rem;
        }

        button {
            background-color: var(--primary-color);
            color: var(--text-color);
            padding: 1rem;
            border: none;
            border-radius: var(--border-radius);
            cursor: pointer;
            font-size: 1.1rem;
            font-weight: 500;
            width: 100%;
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }

        button::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            animation: buttonGlow 3s linear infinite;
            z-index: -1;
        }

        @keyframes buttonGlow {
            0% { transform: translateX(-100%) translateY(-100%); }
            100% { transform: translateX(100%) translateY(100%); }
        }

        button:hover {
            background-color: #a832a8;
            transform: translateY(-2px);
            box-shadow: 0 0 15px var(--primary-color);
        }

        #validateCoupon {
            background-color: var(--primary-color);
            color: var(--text-color);
            padding: 0.5rem 1rem;
            border: none;
            border-radius: var(--border-radius);
            cursor: pointer;
            font-size: 0.9rem;
            margin-top: 0.5rem;
            transition: var(--transition);
        }

        #validateCoupon:hover {
            background-color: #a832a8;
            box-shadow: 0 0 10px var(--primary-color);
        }

        #couponStatus {
            display: block;
            margin-top: 0.5rem;
        }

        #comisionMensaje {
            display: none;
            color: #ffcc00;
            background-color: rgba(255, 204, 0, 0.1);
            padding: 0.25rem 0.5rem;
            border-radius: 4px;
        }

        .form-group:hover #comisionMensaje {
            display: block;
            position: absolute;
            background: #2f3336;
            padding: 0.5rem;
            border-radius: 4px;
            z-index: 10;
            top: 100%;
            left: 0;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            justify-content: center;
            align-items: center;
            z-index: 2000;
        }

        .modal-content {
            background-color: var(--card-background);
            padding: 1.5rem;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            max-width: 400px;
            width: 90%;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .modal-content::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(191, 64, 191, 0.2) 0%, rgba(191, 64, 191, 0) 70%);
            animation: ledGlow 4s ease-in-out infinite;
            z-index: -1;
        }

        .modal-buttons {
            display: flex;
            gap: 1rem;
            margin-top: 1.5rem;
        }

        .modal-buttons button {
            flex: 1;
            padding: 0.75rem;
            font-size: 1rem;
        }

        @media (max-width: 768px) {
            body { padding: 0.5rem; font-size: 14px; }
            .container { padding: 1rem; margin: 0.5rem auto; max-width: 100%; }
            h1 { font-size: 1.5rem; margin-bottom: 1.5rem; }
            .form-intro { padding: 1rem; margin-bottom: 1.5rem; font-size: 0.875rem; }
            .section { padding: 1rem; margin-bottom: 1.5rem; }
            .section-title { font-size: 1.25rem; margin-bottom: 1rem; }
            .form-group { margin-bottom: 1.25rem; }
            label { font-size: 0.875rem; }
            input, select, textarea { padding: 0.75rem; font-size: 0.875rem; }
            textarea { min-height: 100px; }
            .checkmark { width: 0.5rem; height: 0.5rem; right: 0.75rem; top: 2.25rem; }
            .total-container { padding: 1rem; margin: 1.5rem 0; }
            .total-breakdown { font-size: 0.875rem; }
            .total-breakdown .total { font-size: 1.125rem; }
            button { padding: 0.875rem; font-size: 1rem; }
            .modal-content { padding: 1rem; max-width: 90%; }
            .modal-buttons { gap: 0.5rem; }
            .modal-buttons button { padding: 0.5rem; font-size: 0.875rem; }
            .checkbox-option { align-items: flex-start; gap: 0.5rem; }
            input[type="checkbox"], input[type="radio"] { margin-right: 0.5rem; }
            .checkbox-option label { font-size: 0.875rem; line-height: 1.2; }
        }

        @media (max-width: 480px) {
            .checkbox-option {
                flex-direction: row;
                align-items: center;
                gap: 0.5rem;
            }
            input[type="checkbox"], input[type="radio"] {
                width: 1rem;
                height: 1rem;
                min-width: 1rem;
                margin-right: 0.5rem;
            }
            .checkbox-option label {
                font-size: 0.875rem;
                flex: 1;
            }
            .example { font-size: 0.75rem; }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Solicitud de Dise√±o de Logo - Pixcro</h1>

        <div class="form-intro">
            <p>¬°Hola! Nos emociona que hayas elegido a Pixcro para crear el logo y la identidad visual de tu proyecto. Para comenzar de la mejor manera, necesitamos conocer m√°s sobre tu emprendimiento y tus ideas.</p>
            <p><strong>¬øPor qu√© este formulario?</strong></p>
            <ul>
                <li>Dise√±ar un logo √∫nico y personalizado</li>
                <li>Optimizar el tiempo en el proceso creativo</li>
                <li>Asegurar que el resultado final te encante</li>
            </ul>
            <p>Completa los campos a continuaci√≥n y ¬°empecemos a crear!</p>
        </div>

        <form id="logoForm">
            <div class="section">
                <h2 class="section-title">Datos del Cliente</h2>
                <div class="form-group">
                    <label for="nombre">Nombre *</label>
                    <input type="text" id="nombre" name="nombre" required placeholder="Ejemplo: Mar√≠a">
                    <span class="checkmark" id="nombreCheck"></span>
                    <span class="example">Tu nombre personal</span>
                </div>
                <div class="form-group">
                    <label for="apellido">Apellido *</label>
                    <input type="text" id="apellido" name="apellido" required placeholder="Ejemplo: Gonz√°lez">
                    <span class="checkmark" id="apellidoCheck"></span>
                    <span class="example">Tu apellido</span>
                </div>
                <div class="form-group">
                    <label for="correo">Correo Electr√≥nico *</label>
                    <input type="email" id="correo" name="correo" required placeholder="Ejemplo: contacto@miempresa.com">
                    <span class="checkmark" id="correoCheck"></span>
                    <span class="example">Usa un correo activo</span>
                </div>
                <div class="form-group">
                    <label for="telefono">Tel√©fono</label>
                    <input type="tel" id="telefono" name="telefono" placeholder="Ejemplo: +58 412 1234567">
                    <span class="example">Opcional, incluye c√≥digo de pa√≠s</span>
                </div>
            </div>

            <div class="section">
                <h2 class="section-title">Datos del Negocio</h2>
                <div class="form-group">
                    <label for="business-name">Nombre del Negocio *</label>
                    <input type="text" id="business-name" name="business-name" required placeholder="Ejemplo: Cafeter√≠a El Aroma">
                    <span class="checkmark" id="businessCheck"></span>
                    <span class="example">Nombre comercial de tu proyecto</span>
                </div>
                <div class="form-group">
                    <label for="description">Descripci√≥n del Negocio *</label>
                    <textarea id="description" name="description" required placeholder="Ejemplo: Cafeter√≠a acogedora con postres caseros"></textarea>
                    <span class="checkmark" id="descriptionCheck"></span>
                    <span class="example">Describe tu negocio en pocas palabras</span>
                </div>
                <div class="form-group">
                    <label for="publico">P√∫blico Objetivo *</label>
                    <input type="text" id="publico" name="publico" required placeholder="Ejemplo: Familias y j√≥venes profesionales">
                    <span class="checkmark" id="publicoCheck"></span>
                    <span class="example">¬øA qui√©n est√° dirigido?</span>
                </div>
                <div class="form-group">
                    <label for="valores">Valores de la Marca *</label>
                    <input type="text" id="valores" name="valores" required placeholder="Ejemplo: Calidez, calidad, tradici√≥n">
                    <span class="checkmark" id="valoresCheck"></span>
                    <span class="example">Separa los valores con comas</span>
                </div>
                <div class="form-group">
                    <label for="origen">Historia del Proyecto *</label>
                    <textarea id="origen" name="origen" required placeholder="Ejemplo: Inspirado en las recetas de mi abuela"></textarea>
                    <span class="checkmark" id="origenCheck"></span>
                    <span class="example">Breve relato de c√≥mo naci√≥</span>
                </div>
            </div>

            <div class="section">
                <h2 class="section-title">Estilo y Preferencias</h2>
                <div class="form-group">
                    <label for="estilo">Estilo del Logo *</label>
                    <select id="estilo" name="estilo" required>
                        <option value="" disabled selected>Elige un estilo</option>
                        <option value="vintage">Vintage</option>
                        <option value="clasico">Cl√°sico</option>
                        <option value="moderno">Moderno</option>
                        <option value="animado">Animado/Cartoon</option>
                        <option value="disenador">A criterio del dise√±ador</option>
                    </select>
                    <span class="checkmark" id="estiloCheck"></span>
                </div>
                <div class="form-group">
                    <label for="colores">Colores Preferidos</label>
                    <input type="text" id="colores" name="colores" placeholder="Ejemplo: Azul y blanco">
                    <div class="checkbox-option">
                        <input type="checkbox" id="color-disenador" name="color-disenador">
                        <label for="color-disenador">A criterio del dise√±ador</label>
                    </div>
                    <span class="example">Opcional, d√©jalo en blanco si conf√≠as en nosotros</span>
                </div>
                <div class="form-group">
                    <label for="simbolo">Elementos del Logo</label>
                    <input type="text" id="simbolo" name="simbolo" placeholder="Ejemplo: Taza de caf√©">
                    <div class="checkbox-option">
                        <input type="checkbox" id="simbolo-disenador" name="simbolo-disenador">
                        <label for="simbolo-disenador">A criterio del dise√±ador</label>
                    </div>
                    <span class="example">Opcional, especifica s√≠mbolos deseados</span>
                </div>
                <div class="form-group">
                    <label>Referencias del Logo *</label>
                    <div class="checkbox-container">
                        <div class="checkbox-option">
                            <input type="radio" name="referencia" id="ref-disenador" value="disenador" required>
                            <label for="ref-disenador">A criterio del dise√±ador</label>
                        </div>
                        <div class="checkbox-option">
                            <input type="radio" name="referencia" id="ref-whatsapp" value="whatsapp">
                            <label for="ref-whatsapp">Enviar por WhatsApp</label>
                        </div>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2 class="section-title">Competencia y Contexto</h2>
                <div class="form-group">
                    <label for="competencia">Competidores Principales</label>
                    <input type="text" id="competencia" name="competencia" placeholder="Ejemplo: Cafeter√≠as locales">
                    <span class="example">Opcional, menciona a tu competencia</span>
                </div>
                <div class="form-group">
                    <label for="uso-logo">Uso del Logo *</label>
                    <input type="text" id="uso-logo" name="uso-logo" required placeholder="Ejemplo: Redes sociales, empaques">
                    <span class="checkmark" id="usoLogoCheck"></span>
                    <span class="example">Separa usos con comas</span>
                </div>
            </div>

            <div class="section">
                <h2 class="section-title">Informaci√≥n Adicional</h2>
                <div class="form-group">
                    <label for="eslogan">Eslogan</label>
                    <input type="text" id="eslogan" name="eslogan" placeholder="Ejemplo: 'Siente el aroma'">
                    <div class="checkbox-option">
                        <input type="checkbox" id="no-eslogan" name="no-eslogan">
                        <label for="no-eslogan">Sin eslogan</label>
                    </div>
                    <span class="example">Opcional, frase representativa</span>
                </div>
                <div class="form-group">
                    <label for="restricciones">Restricciones de Dise√±o</label>
                    <textarea id="restricciones" name="restricciones" placeholder="Ejemplo: Evitar colores brillantes"></textarea>
                    <span class="example">Opcional, indica limitaciones espec√≠ficas</span>
                </div>
            </div>

            <div class="section">
                <h2 class="section-title">Paquete y Entrega</h2>
                <div class="form-group">
                    <label for="paquete">Paquete *</label>
                    <select id="paquete" name="paquete" required>
                        <option value="" disabled selected>Selecciona un paquete</option>
                        <option value="24.99">Emprendedor - $24.99</option>
                        <option value="29.99">Avanzado - $29.99</option>
                        <option value="34.99">Premium - $34.99</option>
                    </select>
                    <span class="checkmark" id="paqueteCheck"></span>
                </div>
                <div class="checkbox-option">
                    <input type="checkbox" id="express" name="express">
                    <label for="express">Entrega Express (+50%)</label>
                    <span class="example">Si deseas recibir tu dise√±o en 24-48 horas, selecciona esta opci√≥n.</span>
                </div>
                <div class="form-group">
                    <label for="coupon">C√≥digo de Cup√≥n</label>
                    <input type="text" id="coupon" name="coupon" placeholder="Ejemplo: Px1234">
                    <button type="button" id="validateCoupon">Validar Cup√≥n</button>
                    <span class="example" id="couponStatus">Ingresa un cup√≥n y valida</span>
                </div>
                <div class="form-group">
                    <label for="metodo-pago">M√©todo de Pago *</label>
                    <select id="metodo-pago" name="metodo-pago" required>
                        <option value="" disabled selected>Selecciona un m√©todo de pago</option>
                        <option value="pago-movil">Pago M√≥vil</option>
                        <option value="transferencia-banesco">Transferencia Banesco</option>
                        <option value="transferencia-venezuela">Transferencia Venezuela</option>
                        <option value="usdt">USDT (El Dorado/Binance)</option>
                        <option value="zinli">Zinli</option>
                        <option value="wally">Wally</option>
                        <option value="wise">Wise</option>
                        <option value="meru">Meru</option>
                        <option value="airtm">AirTm</option>
                    </select>
                    <span class="checkmark" id="metodoPagoCheck"></span>
                    <span class="example" id="comisionMensaje" style="display: none;">
                        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="#ffcc00" stroke-width="2" style="vertical-align: middle; margin-right: 4px;">
                            <circle cx="12" cy="12" r="10"></circle>
                            <line x1="12" y1="8" x2="12" y2="12"></line>
                            <line x1="12" y1="16" x2="12" y2="16"></line>
                        </svg>
                        Este m√©todo tiene una comisi√≥n adicional del 8% sobre el monto total.
                    </span>
                </div>
                <div class="total-container">
                    <div class="total-breakdown" id="totalBreakdown">
                        <div><span class="label">Paquete:</span><span class="value" id="packageAmount">$0.00</span></div>
                        <div><span class="label">Servicio Express:</span><span class="value" id="expressAmount">$0.00</span></div>
                        <div><span class="label">Cup√≥n de descuento:</span><span class="value" id="discountAmount">-$0.00</span></div>
                        <div id="comisionRow" style="display: none;"><span class="label">Comisi√≥n m√©todo de pago (8%):</span><span class="value" id="comisionAmount">$0.00</span></div>
                        <div class="total"><span class="label">Total:</span><span class="value" id="totalAmount">$0.00</span></div>
                    </div>
                </div>
                <button type="submit">Confirmar y Enviar a WhatsApp</button>
            </div>
        </form>
    </div>

    <div class="modal" id="customModal">
        <div class="modal-content">
            <p>Ser√°s redirigido al WhatsApp de Pixcro con la informaci√≥n proporcionada.</p>
            <div class="modal-buttons">
                <button id="modalAcceptButton">Aceptar</button>
                <button id="modalCancelButton">Cancelar</button>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const form = document.getElementById('logoForm');
            const modal = document.getElementById('customModal');
            const acceptButton = document.getElementById('modalAcceptButton');
            const cancelButton = document.getElementById('modalCancelButton');
            const paqueteSelect = document.getElementById('paquete');
            const expressCheckbox = document.getElementById('express');
            const couponInput = document.getElementById('coupon');
            const validateButton = document.getElementById('validateCoupon');
            const couponStatus = document.getElementById('couponStatus');
            const metodoPagoSelect = document.getElementById('metodo-pago');
            const comisionMensaje = document.getElementById('comisionMensaje');
            const packageAmount = document.getElementById('packageAmount');
            const expressAmount = document.getElementById('expressAmount');
            const discountAmount = document.getElementById('discountAmount');
            const comisionAmount = document.getElementById('comisionAmount');
            const comisionRow = document.getElementById('comisionRow');
            const totalAmount = document.getElementById('totalAmount');

            const requiredFields = form.querySelectorAll('input[required], select[required], textarea[required]');
            let coupons = {};
            let appliedCoupon = null;

            const validateField = (input, checkmark) => {
                checkmark.style.display = input.checkValidity() && input.value.trim() ? 'block' : 'none';
            };

            fetch('cupones.txt')
                .then(response => {
                    if (!response.ok) throw new Error('No se pudo cargar cupones.txt');
                    return response.text();
                })
                .then(data => {
                    const lines = data.split('\n').map(line => line.trim()).filter(line => line);
                    lines.forEach(line => {
                        const match = line.match(/^"(\w+)\s\((\d+%)\)"$/);
                        if (match) {
                            const code = match[1].toUpperCase();
                            const discount = parseInt(match[2].replace('%', '')) / 100;
                            coupons[code] = discount;
                        }
                    });
                    console.log('Cupones cargados:', coupons);
                })
                .catch(error => {
                    console.error('Error al cargar cupones:', error);
                    couponStatus.textContent = 'Error al cargar los cupones';
                    couponStatus.style.color = '#ff4444';
                });

            validateButton.addEventListener('click', () => {
                const enteredCoupon = couponInput.value.trim().toUpperCase();
                if (!enteredCoupon) {
                    couponStatus.textContent = 'Por favor, ingresa un cup√≥n';
                    couponStatus.style.color = '#ff4444';
                    appliedCoupon = null;
                    calculateTotal();
                    return;
                }

                if (coupons.hasOwnProperty(enteredCoupon)) {
                    const discountPercent = coupons[enteredCoupon] * 100;
                    couponStatus.textContent = `¬°Cup√≥n ${enteredCoupon} v√°lido! ${discountPercent}% de descuento aplicado.`;
                    couponStatus.style.color = '#00cc00';
                    appliedCoupon = enteredCoupon;
                    calculateTotal();
                } else {
                    couponStatus.textContent = 'Cup√≥n no v√°lido';
                    couponStatus.style.color = '#ff4444';
                    appliedCoupon = null;
                    calculateTotal();
                }
            });

            couponInput.addEventListener('input', () => {
                const enteredCoupon = couponInput.value.trim().toUpperCase();
                if (enteredCoupon && coupons.hasOwnProperty(enteredCoupon)) {
                    couponStatus.textContent = 'Cup√≥n v√°lido';
                    couponStatus.style.color = '#00cc00';
                } else if (enteredCoupon) {
                    couponStatus.textContent = 'Cup√≥n no v√°lido';
                    couponStatus.style.color = '#ff4444';
                } else {
                    couponStatus.textContent = 'Ingresa un cup√≥n y valida';
                    couponStatus.style.color = '#b0b0b0';
                }
            });

            const calculateTotal = () => {
                const basePrice = parseFloat(paqueteSelect.value) || 0;
                let discount = appliedCoupon && coupons[appliedCoupon] ? coupons[appliedCoupon] : 0;
                const discountValue = basePrice * discount;
                let finalPrice = basePrice - discountValue;

                const expressCost = expressCheckbox.checked ? finalPrice * 0.5 : 0;
                finalPrice += expressCost;

                const metodosConComision = ['zinli', 'wally', 'wise', 'meru', 'airtm'];
                const metodoSeleccionado = metodoPagoSelect.value;
                const comision = metodosConComision.includes(metodoSeleccionado) ? finalPrice * 0.08 : 0;
                finalPrice += comision;

                packageAmount.textContent = `$${basePrice.toFixed(2)}`;
                expressAmount.textContent = `$${expressCost.toFixed(2)}`;
                discountAmount.textContent = `-$${discountValue.toFixed(2)}`;
                comisionAmount.textContent = `$${comision.toFixed(2)}`;
                comisionRow.style.display = comision > 0 ? 'flex' : 'none';
                totalAmount.textContent = `$${finalPrice.toFixed(2)}`;

                comisionMensaje.style.display = comision > 0 ? 'block' : 'none';
            };

            paqueteSelect.addEventListener('change', () => {
                calculateTotal();
                validateField(paqueteSelect, document.getElementById('paqueteCheck'));
            });

            expressCheckbox.addEventListener('change', calculateTotal);

            metodoPagoSelect.addEventListener('change', () => {
                calculateTotal();
                validateField(metodoPagoSelect, document.getElementById('metodoPagoCheck'));
            });

            requiredFields.forEach(field => {
                const checkmark = document.getElementById(`${field.id}Check`);
                if (checkmark) {
                    field.addEventListener('input', () => validateField(field, checkmark));
                }
            });

            form.addEventListener('submit', (e) => {
                e.preventDefault();
                if (form.checkValidity()) {
                    modal.style.display = 'flex';
                } else {
                    form.reportValidity();
                }
            });

            const generateWhatsAppMessage = () => {
                const formData = new FormData(form);
                let message = "*Solicitud de Dise√±o - Pixcro*\n\n";

                message += "*üìã Cliente*\n";
                message += `Nombre: ${formData.get('nombre')} ${formData.get('apellido')}\n`;
                message += `Correo: ${formData.get('correo')}\n`;
                message += `Tel√©fono: ${formData.get('telefono') || 'No especificado'}\n\n`;

                message += "*üè¢ Negocio*\n";
                message += `Nombre: ${formData.get('business-name')}\n`;
                message += `Descripci√≥n: ${formData.get('description')}\n`;
                message += `P√∫blico: ${formData.get('publico')}\n`;
                message += `Valores: ${formData.get('valores')}\n`;
                message += `Origen: ${formData.get('origen')}\n\n`;

                message += "*üé® Preferencias*\n";
                message += `Estilo: ${formData.get('estilo')}\n`;
                message += `Colores: ${formData.get('color-disenador') ? 'A criterio del dise√±ador' : formData.get('colores') || 'No especificado'}\n`;
                message += `Elementos: ${formData.get('simbolo-disenador') ? 'A criterio del dise√±ador' : formData.get('simbolo') || 'No especificado'}\n`;
                message += `Referencias: ${formData.get('referencia') === 'whatsapp' ? 'Por WhatsApp' : 'A criterio del dise√±ador'}\n\n`;

                message += "*üìä Contexto*\n";
                message += `Competidores: ${formData.get('competencia') || 'No especificado'}\n`;
                message += `Uso: ${formData.get('uso-logo')}\n\n`;

                message += "*‚ÑπÔ∏è Adicional*\n";
                message += `Eslogan: ${formData.get('no-eslogan') ? 'Sin eslogan' : formData.get('eslogan') || 'No especificado'}\n`;
                message += `Restricciones: ${formData.get('restricciones') || 'No especificado'}\n\n`;

                message += "*üí∞ Paquete*\n";
                message += `Paquete: ${paqueteSelect.options[paqueteSelect.selectedIndex].text}\n`;
                message += `Express: ${expressAmount.textContent}\n`;
                message += `Cup√≥n: ${discountAmount.textContent} (${appliedCoupon || 'Ninguno'})\n`;
                message += `Comisi√≥n m√©todo de pago: ${comisionAmount.textContent}\n`;
                message += `M√©todo de Pago: ${metodoPagoSelect.options[metodoPagoSelect.selectedIndex].text}\n`;
                message += `Total: ${totalAmount.textContent}`;

                return encodeURIComponent(message);
            };

            acceptButton.addEventListener('click', () => {
                acceptButton.textContent = 'Enviando...';
                const whatsappUrl = `https://wa.me/+584121138338?text=${generateWhatsAppMessage()}`;
                window.open(whatsappUrl, '_blank');
                setTimeout(() => {
                    modal.style.display = 'none';
                    form.reset();
                    acceptButton.textContent = 'Aceptar';
                    packageAmount.textContent = '$0.00';
                    expressAmount.textContent = '$0.00';
                    discountAmount.textContent = '-$0.00';
                    comisionAmount.textContent = '$0.00';
                    comisionRow.style.display = 'none';
                    totalAmount.textContent = '$0.00';
                    appliedCoupon = null;
                    couponStatus.textContent = 'Ingresa un cup√≥n y valida';
                    couponStatus.style.color = '#b0b0b0';
                    comisionMensaje.style.display = 'none';
                    document.querySelectorAll('.checkmark').forEach(check => check.style.display = 'none');
                }, 500);
            });

            cancelButton.addEventListener('click', () => modal.style.display = 'none');

            const sections = document.querySelectorAll('.section');
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                    } else {
                        entry.target.classList.remove('visible');
                    }
                });
            }, {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            });

            sections.forEach(section => observer.observe(section));
        });
    </script>
</body>
</html>